(this["webpackJsonpgoogle-books-search"]=this["webpackJsonpgoogle-books-search"]||[]).push([[0],{32:function(e,a,t){e.exports=t(70)},37:function(e,a,t){},57:function(e,a){a.google_books={apiKey:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_GOOGLE_BOOKS_API}},58:function(e,a,t){},59:function(e,a,t){},60:function(e,a,t){},61:function(e,a,t){},62:function(e,a,t){},63:function(e,a,t){},64:function(e,a,t){},70:function(e,a,t){"use strict";t.r(a);var n=t(0),o=t.n(n),r=t(28),l=t.n(r),c=(t(37),t(8)),s=t(9),m=t(11),i=t(10),u=t(30),d=t(1),v=t(29),h=t(13),E=t.n(h);t(54).config();var f=t(57),b=function(e){return E.a.get("https://www.googleapis.com/books/v1/volumes?q="+e+"&key="+f.google_books.apiKey)},k=function(){return E.a.get("/api/books/saved")},g=function(e){return E()({method:"delete",url:"/api/books/delete/"+e})},p=function(e){return E()({method:"post",url:"/api/books",data:e})};t(58);var N=function(e){return o.a.createElement("div",{className:"col-md-12 mt-2"},o.a.createElement("div",{className:"card"},o.a.createElement("div",{className:"card-body col-md-12"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-8"},e.volumeInfo&&e.volumeInfo.title&&o.a.createElement("h5",{className:"card-title"},o.a.createElement("strong",null,e.volumeInfo.title))),o.a.createElement("div",{className:"col-md-4"},e.volumeInfo&&e.volumeInfo.previewLink&&o.a.createElement("a",{className:"btn btn-primary m-1 float-right",type:"button",target:"_blank",rel:"noopener noreferrer",href:e.volumeInfo.previewLink},"View"),o.a.createElement("button",{className:"btn btn-success m-1 float-right",type:"button",id:e.bookIndex,onClick:e.saveBook},"Save"))),e.volumeInfo&&e.volumeInfo.authors&&o.a.createElement("p",{className:"card-text"},"Written by ",e.volumeInfo.authors.map((function(e,a){return 0===a?e:", "+e}))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-4"},e.volumeInfo.imageLinks&&e.volumeInfo.imageLinks.thumbnail&&o.a.createElement("img",{src:e.volumeInfo.imageLinks.thumbnail,alt:e.volumeInfo.title,className:"img-thumbnail"})),o.a.createElement("div",{className:"col-md-8"},e.volumeInfo&&e.volumeInfo.description&&o.a.createElement("p",null,e.volumeInfo.description))))))};t(59);var S=function(e){return o.a.createElement("div",{className:"col-md-12"},o.a.createElement("form",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("input",{name:"bookSearch",type:"text",className:"formControl",id:"bookSearchInput",style:{width:"100%"},placeholder:"Enter your search term here...",onChange:e.handleSearchChange}),o.a.createElement("button",{className:"btn btn-dark float-right mt-1",type:"button",id:"bootSearchBtn",onClick:e.handleBookSearch},"Search"))))},B=function(e){Object(m.a)(t,e);var a=Object(i.a)(t);function t(){var e;Object(c.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=a.call.apply(a,[this].concat(o))).state={bookSearch:"",booksData:[]},e.handleSearchChange=function(a){var t=a.target,n=t.name,o=t.value;e.setState(Object(v.a)({},n,o))},e.handleBookSearch=function(){b(e.state.bookSearch).then((function(a){return void 0!==a.data.items?e.setState({booksData:a.data.items}):e.setState({booksData:[]})}))},e.saveBook=function(a){var t=a.target.id;a.preventDefault();var n={title:e.state.booksData[t].volumeInfo.title,author:e.state.booksData[t].volumeInfo.authors,link:e.state.booksData[t].volumeInfo.previewLink,imageURL:e.state.booksData[t].volumeInfo.imageLinks.thumbnail,description:e.state.booksData[t].volumeInfo.description},o=e.state.booksData;o.splice(t,1),p(n).then((function(a){return e.setState({booksData:o})})).catch((function(e){return console.log(e)}))},e}return Object(s.a)(t,[{key:"render",value:function(){var e=this;return 0!==this.state.booksData.length?o.a.createElement("div",null,o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"row"},o.a.createElement("h4",null,o.a.createElement("strong",null,"Search for Books")),o.a.createElement(S,{handleSearchChange:this.handleSearchChange,handleBookSearch:this.handleBookSearch})),o.a.createElement("div",{className:"row"},o.a.createElement("h3",null,o.a.createElement("strong",null,"Results")),this.state.booksData.map((function(a,t){return o.a.createElement(N,{volumeInfo:a.volumeInfo,searchInfo:a.searchInfo,saveBook:e.saveBook,bookIndex:t,key:t})}))))):o.a.createElement("div",null,o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"row"},o.a.createElement("h4",null,o.a.createElement("strong",null,"Search for Books")),o.a.createElement(S,{handleSearchChange:this.handleSearchChange,handleBookSearch:this.handleBookSearch})),o.a.createElement("div",{className:"row"},o.a.createElement("h3",null,o.a.createElement("strong",null,"Results"))),o.a.createElement("div",{className:"row"},o.a.createElement("p",null,"No search results"))))}}]),t}(n.Component);t(60);var I=function(e){return o.a.createElement("div",{className:"col-md-12 mt-2"},o.a.createElement("div",{className:"card"},o.a.createElement("div",{className:"card-body col-md-12"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-8"},e.title&&o.a.createElement("h5",{className:"card-title"},o.a.createElement("strong",null,e.title))),o.a.createElement("div",{className:"col-md-4"},e.link&&o.a.createElement("a",{className:"btn btn-primary m-1 float-right",type:"button",target:"_blank",rel:"noopener noreferrer",href:e.link},"View"),o.a.createElement("button",{className:"btn btn-danger m-1 float-right",id:e.bookID,onClick:e.deleteBook,type:"button"},"Delete"))),e.author&&o.a.createElement("p",{className:"card-text"},"Written by ",e.author.map((function(e,a){return 0===a?e:", "+e}))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-4"},e.imageURL&&o.a.createElement("img",{src:e.imageURL,alt:e.title,className:"img-thumbnail"})),o.a.createElement("div",{className:"col-md-8"},e.description&&o.a.createElement("p",null,e.description))))))},y=function(e){Object(m.a)(t,e);var a=Object(i.a)(t);function t(){var e;Object(c.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=a.call.apply(a,[this].concat(o))).state={savedBooksData:[]},e.deleteBook=function(a){a.preventDefault();var t=a.target.id;g(t).then((function(a){return e.renderSavedBooks()})).catch((function(e){return console.log(e)}))},e.renderSavedBooks=function(){k().then((function(a){return e.setState({savedBooksData:a.data})})).catch((function(e){return console.log(e)}))},e}return Object(s.a)(t,[{key:"componentDidMount",value:function(){this.renderSavedBooks()}},{key:"render",value:function(){var e=this;return 0!==this.state.savedBooksData.length?o.a.createElement("div",null,o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"row"},o.a.createElement("h3",null,o.a.createElement("strong",null,"Saved Books")),this.state.savedBooksData.map((function(a,t){return o.a.createElement(I,{bookID:a._id,title:a.title,author:a.author,link:a.link,imageURL:a.imageURL,description:a.description,deleteBook:e.deleteBook,key:t})}))))):o.a.createElement("div",null,o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"row"},o.a.createElement("h3",null,o.a.createElement("strong",null,"Saved Books"))),o.a.createElement("div",{className:"row"},o.a.createElement("p",null,"No saved books"))))}}]),t}(n.Component);t(61);var w=function(e){return o.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark fixed-top"},o.a.createElement("a",{className:"navbar-brand",href:"/"},"Google Books Search"),o.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation"},o.a.createElement("span",{className:"navbar-toggler-icon"})),o.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarNavAltMarkup"},o.a.createElement("div",{className:"navbar-nav"},o.a.createElement("a",{className:"nav-item nav-link",href:"/"},"Search"),o.a.createElement("a",{className:"nav-item nav-link",href:"/saved"},"Saved"))))};t(62);var D=function(e){return o.a.createElement("footer",{className:"fixed-bottom footer-dark"},o.a.createElement("div",{className:"container"},o.a.createElement("a",{href:"/"},"Google Books Search")))};t(63);var O=function(e){return o.a.createElement("div",{className:"jumbotron jumbotron-fluid"},o.a.createElement("div",{className:"container"},o.a.createElement("h1",{className:"display-4"},"Google Books Search"),o.a.createElement("p",{className:"lead"},"Search for books that are available on ",o.a.createElement("a",{href:"https://books.google.com/"},"Google Books"))))},C=(t(64),function(e){Object(m.a)(t,e);var a=Object(i.a)(t);function t(){return Object(c.a)(this,t),a.apply(this,arguments)}return Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement(u.a,null,o.a.createElement("div",null,o.a.createElement(w,null),o.a.createElement(O,null),o.a.createElement(d.c,null,o.a.createElement(d.a,{exact:!0,path:"/",component:B}),o.a.createElement(d.a,{exact:!0,path:"/saved",component:y})),o.a.createElement(D,null)))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(o.a.createElement(C,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[32,1,2]]]);
//# sourceMappingURL=main.c9d4f483.chunk.js.map